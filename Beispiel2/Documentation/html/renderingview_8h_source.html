<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>LU Visualisierung WS2010 - Beispiel 1: renderingview.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.2 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>renderingview.h</h1>  </div>
</div>
<div class="contents">
<a href="renderingview_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef RenderingView_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define RenderingView_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;QtGui&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include &lt;QtOpenGL&gt;</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include &lt;QGLWidget&gt;</span>
<a name="l00007"></a>00007 
<a name="l00008"></a>00008 <span class="preprocessor">#include &quot;<a class="code" href="mainwindow_8h.html">mainwindow.h</a>&quot;</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;FlowData.h&quot;</span>
<a name="l00011"></a>00011 
<a name="l00012"></a><a class="code" href="renderingview_8h.html#a952eac791b596a61bba0a133a3bb439f">00012</a> <span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="renderingview_8h.html#a952eac791b596a61bba0a133a3bb439f">PI</a> = 3.14159265358979323846;
<a name="l00013"></a>00013 
<a name="l00018"></a><a class="code" href="class_rendering_view.html">00018</a> <span class="keyword">class </span><a class="code" href="class_rendering_view.html" title="Rendering view of flow data.">RenderingView</a>
<a name="l00019"></a>00019         <span class="comment">//     : public QGLWidget</span>
<a name="l00020"></a>00020     : <span class="keyword">public</span> QWidget
<a name="l00021"></a>00021 {
<a name="l00022"></a>00022     Q_OBJECT
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="keyword">public</span>:
<a name="l00031"></a>00031     <a class="code" href="class_rendering_view.html#a39d6b95901404fffee7ebfcc338e8b65" title="Default constructor.">RenderingView</a>(<a class="code" href="class_ui_1_1_main_window.html">Ui::MainWindow</a> *ui, QWidget *parent = 0);
<a name="l00032"></a>00032 
<a name="l00037"></a>00037     <a class="code" href="class_rendering_view.html#ab2c45e1e31f36be410f886ff5680fb5d" title="Default destructor.">~RenderingView</a>();
<a name="l00038"></a>00038 
<a name="l00044"></a>00044     <span class="keywordtype">void</span> <a class="code" href="class_rendering_view.html#a1c1926e37a92adf044b34d0a36d4d084" title="Invoked when the widget should redraw itself. Redraws the widget using paint().">paintEvent</a>(QPaintEvent *e);
<a name="l00045"></a>00045 
<a name="l00046"></a>00046     QSize <a class="code" href="class_rendering_view.html#a635eb644d99a79fd89e87e7ae39af76c">minimumSizeHint</a>() <span class="keyword">const</span>;
<a name="l00047"></a>00047     QSize <a class="code" href="class_rendering_view.html#affe74cda2c19fba19eb214b456ac27d8">sizeHint</a>() <span class="keyword">const</span>;
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="keyword">public</span>:
<a name="l00056"></a>00056     <span class="keywordtype">void</span> <a class="code" href="class_rendering_view.html#a31ab71ef240efd94196aec37369affdb" title="Changes the data set that is to be displayed.">setDataset</a>(FlowData* dataset);
<a name="l00057"></a>00057 
<a name="l00062"></a>00062     QRgb <a class="code" href="class_rendering_view.html#a36585dbd82b3d8b1982c3ca9db6dfcae" title="Maps a normalized value to an ARGB color. The gradient used depends on the value of the gradient comb...">normValueToRGB</a>(<span class="keywordtype">float</span> normValue);
<a name="l00063"></a>00063 
<a name="l00064"></a>00064 <span class="keyword">public</span> slots:
<a name="l00068"></a>00068     <span class="keywordtype">void</span> <a class="code" href="class_rendering_view.html#a6ec46aea755f5ce1dae1d50103ac4a6e" title="Recalculates derived channels (currently only vector length) from data set.">updateDerivedChannels</a>();
<a name="l00072"></a>00072     <span class="keywordtype">void</span> <a class="code" href="class_rendering_view.html#a4387f5e892c8aeeed0590fa5616f6303" title="Causes color coding image plane to be redrawn.">updateColorCoding</a>();
<a name="l00076"></a>00076     <span class="keywordtype">void</span> <a class="code" href="class_rendering_view.html#a49ef8199718d01e09213c02d160f0bd4" title="Causes arrow plot image plane to be redrawn.">updateArrowPlot</a>();
<a name="l00080"></a>00080     <span class="keywordtype">void</span> <a class="code" href="class_rendering_view.html#a5d595fe12fe57bbbfb6b23ac2d453144" title="Causes streamlines image plane to be redrawn.">updateStreamlines</a>();
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 <span class="keyword">protected</span>:
<a name="l00083"></a>00083 
<a name="l00084"></a>00084 <span class="keyword">private</span>:
<a name="l00085"></a>00085     <a class="code" href="class_ui_1_1_main_window.html">Ui::MainWindow</a> *ui;
<a name="l00086"></a>00086 
<a name="l00087"></a>00087     FlowData *flowData;
<a name="l00088"></a>00088 
<a name="l00089"></a>00089     <span class="keywordtype">int</span> channelVectorLength;
<a name="l00090"></a>00090 
<a name="l00091"></a>00091     <span class="keywordtype">bool</span> colorCodingNeedsUpdate, arrowPlotNeedsUpdate, streamlinesNeedsUpdate;
<a name="l00092"></a>00092 
<a name="l00093"></a>00093     QImage colorCodingImage, arrowPlotImage, streamlinesImage;
<a name="l00094"></a>00094 
<a name="l00095"></a>00095     <span class="keyword">typedef</span> QList&lt;vec3&gt; Streamline;
<a name="l00096"></a>00096     Streamline computeStreamline(vec3 p, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h, <span class="keywordtype">bool</span> lookup=<span class="keyword">true</span>); <span class="comment">// lookup: use lookup structure and check against dSep/dTest (yes/no)</span>
<a name="l00097"></a>00097     vec3 selectSeedPoint(Streamline streamLine, <span class="keywordtype">bool</span>&amp; valid);
<a name="l00098"></a>00098     <span class="keywordtype">bool</span> isPointValid(vec3 p, <span class="keywordtype">int</span> testDistance);
<a name="l00099"></a>00099     <span class="keywordtype">void</span> addPointToLookup(vec3 p);
<a name="l00100"></a>00100     vec3 integratePoint(vec3 pos, FlowChannel* channelX, FlowChannel* channelY, <span class="keywordtype">float</span> dt, <span class="keywordtype">float</span> direction);
<a name="l00101"></a>00101     <span class="keywordtype">void</span> drawStreamline(<span class="keyword">const</span> Streamline&amp; streamline, QPainter&amp; painter, <span class="keywordtype">int</span> w, <span class="keywordtype">int</span> h);
<a name="l00102"></a>00102 
<a name="l00103"></a>00103     QList&lt;vec3&gt;* lookupGrid; <span class="comment">// two-dimensional cartesian lookup structure. each cell stores a list of points (x,y); z is ignored</span>
<a name="l00104"></a>00104     <span class="keywordtype">int</span> lookupW, lookupH; <span class="comment">// dimensions of cartesian grid</span>
<a name="l00105"></a>00105     <span class="keywordtype">int</span> dSep, dTest;
<a name="l00106"></a>00106 };
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 <span class="preprocessor">#endif // RenderingView_H</span>
</pre></div></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Jan 19 2011 13:25:19 for LU Visualisierung WS2010 - Beispiel 1 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
